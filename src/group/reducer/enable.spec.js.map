{"version":3,"file":"enable.spec.js","sourceRoot":"","sources":["enable.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { EnableAction } from '../../actions';\r\nimport { cast } from '../../state';\r\nimport { enableReducer } from './enable';\r\nimport {\r\n  FORM_CONTROL_ID,\r\n  FORM_CONTROL_INNER3_ID,\r\n  FORM_CONTROL_INNER5_ID,\r\n  FORM_CONTROL_INNER_ID,\r\n  INITIAL_STATE_FULL,\r\n  setPropertiesRecursively,\r\n} from './test-util';\r\n\r\ndescribe(`form group ${enableReducer.name}`, () => {\r\n  it('should enable itself and all children recursively', () => {\r\n    const state = cast(setPropertiesRecursively(INITIAL_STATE_FULL, [['isEnabled', false], ['isDisabled', true]]));\r\n    const resultState = enableReducer(state, new EnableAction(FORM_CONTROL_ID));\r\n    expect(resultState).toEqual(INITIAL_STATE_FULL);\r\n  });\r\n\r\n  it('should not update state if all children are enabled recursively', () => {\r\n    const resultState = enableReducer(INITIAL_STATE_FULL, new EnableAction(FORM_CONTROL_ID));\r\n    expect(resultState).toBe(INITIAL_STATE_FULL);\r\n  });\r\n\r\n  it('should enable children if the group itself is already enabled', () => {\r\n    const state = {\r\n      ...INITIAL_STATE_FULL,\r\n      controls: {\r\n        ...INITIAL_STATE_FULL.controls,\r\n        inner2: {\r\n          ...INITIAL_STATE_FULL.controls.inner2,\r\n          isEnabled: false,\r\n          isDisabled: true,\r\n        },\r\n      },\r\n    };\r\n    const resultState = enableReducer(state, new EnableAction(FORM_CONTROL_ID));\r\n    expect(resultState).toEqual(INITIAL_STATE_FULL);\r\n  });\r\n\r\n  it('should enable without enabling any other children if control child gets enabled', () => {\r\n    const state = cast(setPropertiesRecursively(INITIAL_STATE_FULL, [['isEnabled', false], ['isDisabled', true]]));\r\n    const resultState = enableReducer(state, new EnableAction(FORM_CONTROL_INNER_ID));\r\n    expect(resultState.isEnabled).toBe(true);\r\n    expect(resultState.isDisabled).toBe(false);\r\n    expect(resultState.controls.inner2.isEnabled).toBe(false);\r\n    expect(resultState.controls.inner2.isDisabled).toBe(true);\r\n  });\r\n\r\n  it('should enable without enabling any other children if group child gets enabled', () => {\r\n    const state = cast(setPropertiesRecursively(INITIAL_STATE_FULL, [['isEnabled', false], ['isDisabled', true]]));\r\n    const resultState = enableReducer(state, new EnableAction(FORM_CONTROL_INNER3_ID));\r\n    expect(resultState.isEnabled).toBe(true);\r\n    expect(resultState.isDisabled).toBe(false);\r\n    expect(resultState.controls.inner.isEnabled).toBe(false);\r\n    expect(resultState.controls.inner.isDisabled).toBe(true);\r\n  });\r\n\r\n  it('should enable without enabling any other children if array child gets enabled', () => {\r\n    const state = cast(setPropertiesRecursively(INITIAL_STATE_FULL, [['isEnabled', false], ['isDisabled', true]]));\r\n    const resultState = enableReducer(state, new EnableAction(FORM_CONTROL_INNER5_ID));\r\n    expect(resultState.isEnabled).toBe(true);\r\n    expect(resultState.isDisabled).toBe(false);\r\n    expect(resultState.controls.inner.isEnabled).toBe(false);\r\n    expect(resultState.controls.inner.isDisabled).toBe(true);\r\n  });\r\n});\r\n"]}