{"version":3,"file":"mark-as-touched.js","sourceRoot":"","sources":["mark-as-touched.ts"],"names":[],"mappings":";;AAAA,yCAA6D;AAC7D,qCAAgE;AAChE,+BAA8D;AAE9D,8BACE,KAA6B,EAC7B,MAAyB;IAEzB,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,6BAAmB,CAAC,IAAI,CAAC,CAAC,CAAC;QAC7C,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAED,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,KAAK,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAClC,MAAM,CAAC,mBAAY,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IACrC,CAAC;IAED,IAAM,QAAQ,GAAG,6BAAsB,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAA,SAAS,IAAI,OAAA,IAAI,6BAAmB,CAAC,SAAS,CAAC,EAAlC,CAAkC,CAAC,CAAC;IAEzG,EAAE,CAAC,CAAC,QAAQ,KAAK,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QAChC,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAED,MAAM,CAAC,yBAAiB,CACtB,KAAK,CAAC,EAAE,EACR,QAAQ,EACR,KAAK,CAAC,KAAK,EACX,KAAK,CAAC,MAAM,EACZ,KAAK,CAAC,kBAAkB,EACxB,KAAK,CAAC,qBAAqB,CAC5B,CAAC;AACJ,CAAC;AA1BD,oDA0BC","sourcesContent":["import { Actions, MarkAsTouchedAction } from '../../actions';\r\nimport { computeArrayState, FormArrayState } from '../../state';\r\nimport { childReducer, dispatchActionPerChild } from './util';\r\n\r\nexport function markAsTouchedReducer<TValue>(\r\n  state: FormArrayState<TValue>,\r\n  action: Actions<TValue[]>,\r\n): FormArrayState<TValue> {\r\n  if (action.type !== MarkAsTouchedAction.TYPE) {\r\n    return state;\r\n  }\r\n\r\n  if (action.controlId !== state.id) {\r\n    return childReducer(state, action);\r\n  }\r\n\r\n  const controls = dispatchActionPerChild(state.controls, controlId => new MarkAsTouchedAction(controlId));\r\n\r\n  if (controls === state.controls) {\r\n    return state;\r\n  }\r\n\r\n  return computeArrayState(\r\n    state.id,\r\n    controls,\r\n    state.value,\r\n    state.errors,\r\n    state.pendingValidations,\r\n    state.userDefinedProperties,\r\n  );\r\n}\r\n"]}