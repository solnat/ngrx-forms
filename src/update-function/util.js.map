{"version":3,"file":"util.js","sourceRoot":"","sources":["util.ts"],"names":[],"mappings":";;AAEA,4CAAoD;AACpD,8CAAwD;AACxD,4CAAoD;AACpD,kCAA4E;AAK5E,gCAA+C,KAAmC,EAAE,MAAc;IAChG,EAAE,CAAC,CAAC,oBAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACxB,MAAM,CAAC,0BAAgB,CAAC,KAAK,EAAE,MAAa,CAAQ,CAAC;IACvD,CAAC;IAED,EAAE,CAAC,CAAC,oBAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACxB,MAAM,CAAC,0BAAgB,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,MAAM,CAAC,4BAAkB,CAAC,KAAY,EAAE,MAAM,CAAQ,CAAC;AACzD,CAAC;AAVD,wDAUC;AAED;IAA2B,aAA0B;SAA1B,UAA0B,EAA1B,qBAA0B,EAA1B,IAA0B;QAA1B,wBAA0B;;IACnD,MAAM,CAAC,UAAC,CAAI,IAAK,OAAA,GAAG,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,CAAC,IAAK,OAAA,CAAC,CAAC,GAAG,CAAC,EAAN,CAAM,EAAE,CAAC,CAAC,EAAjC,CAAiC,CAAC;AACrD,CAAC;AAFD,0BAEC;AAED,qBAAoC,KAAa;IAC/C,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;QACX,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;IAClD,CAAC;IAED,MAAM,CAAC,KAAK,CAAC;AACf,CAAC;AAND,kCAMC","sourcesContent":["import { Action } from '@ngrx/store';\n\nimport { formArrayReducer } from '../array/reducer';\nimport { formControlReducer } from '../control/reducer';\nimport { formGroupReducer } from '../group/reducer';\nimport { AbstractControlState, isArrayState, isGroupState } from '../state';\n\nexport type ProjectFn<T> = (t: T) => T;\nexport type ProjectFn2<T, K> = (t: T, k: K, i?: number) => T;\n\nexport function abstractControlReducer<TValue>(state: AbstractControlState<TValue>, action: Action): AbstractControlState<TValue> {\n  if (isArrayState(state)) {\n    return formArrayReducer(state, action as any) as any;\n  }\n\n  if (isGroupState(state)) {\n    return formGroupReducer(state, action);\n  }\n\n  return formControlReducer(state as any, action) as any;\n}\n\nexport function compose<T>(...fns: Array<(t: T) => T>) {\n  return (t: T) => fns.reduce((res, f) => f(res), t);\n}\n\nexport function ensureState<TState>(state: TState) {\n  if (!state) {\n    throw new Error('state must not be undefined!');\n  }\n\n  return state;\n}\n"]}